require "spec_helper"

describe Reader do
  describe 'Medium' do

    describe 'Good link' do
      let(:link) do
        Reader::Medium 'https://medium.com/this-happened-to-me/d8e0fb6dbfb2'
      end

      it 'has the right class name' do
        link.class.should eql Reader::Medium
      end

      it 'responds to title' do
        link.respond_to?(:title).should eql true
      end

      it 'responds to body' do
        link.respond_to?(:body).should eql true
      end

      it 'responds to as_hash' do
        link.respond_to?(:as_hash).should eql true
      end

      it 'responds to as_json' do
        link.respond_to?(:as_json).should eql true
      end

      it 'has the right title' do
        link.title.should eql "On Falling Over"
      end

      it 'has the right body' do
        link.body.should eql "In 2008 I moved to the US and within six months I\u2019d paralysed my left arm doing something stupid in the office. For a while I didn\u2019t know if it was ever going to recover. It was one of the most disturbing experiences of my life and it happened in the most trivial of ways.I\u2019d moved over from the UK with some trepidation. I\u2019d always wanted to spend some time living in America\u2014I\u2019d spent so much of my time online with SF natives in the nineties\u2014but the mechanism I\u2019d found to make the move was less than perfect. I\u2019d found myself in a job that was relatively well-protected but working in an organisation that I couldn\u2019t stand. I\u2019d had some other\u2014in retrospect rather better\u2014opportunities, but I\u2019d turned them down for a solid prospect. And then I\u2019d delayed the move several times because of the scale of the commitment and my feelings towards it.I\u2019d have to work at this company for at least another two years in the US (potentially a lot longer), and I had absolutely no idea what the job would be like once I got here. It felt like the most grown-up thing I\u2019d ever done. I was committing to do something I thought I\u2019d hate, purely to be in the right situation a few years down the line.Once I arrived though, things picked up pretty much immediately. The area I was working in was good and I got quite a lot of agency to improve and refine it. Within a few months, I was having a great time - working with clever, fun people in a familial, creative environment and on stuff that seemed actually important and interesting. I\u2019d be working myself to death, of course - so much that I\u2019d still not managed to get out of the corporate housing that I\u2019d been placed in when I arrived in the country. Sixteen hour days were not uncommon. But honestly, it didn\u2019t seem to matter.One of the benefits of our particular relaxed environment and distance from the mothership was that we could turn our space into anything we liked. We had sofas and weird screens and neon signs and loads of space. We let dogs and children come in and play around us. We had people giving talks over the other side of the office. There were finger dart battles.And we had a Balance Board.The board was the property of our lead engineer and he used it to practice for snow-boarding. Very gradually all the rest of us started to play with it too. We\u2019d stand on it and trying to stay upright and laugh at each other\u2019s clumsiness. I started off worse than anyone else\u2014I\u2019d never had much sense of my body\u2014but gradually started to improve. I mucked around on it every day. In the end something was bound to go wrong.Picture the scene - I\u2019m standing next to the lead engineer, looking at his screen. We\u2019re talking about an element of the product we\u2019re working on. We\u2019re probably making some ridiculous joke or something. And I\u2019m balancing on the balance board. And I fall off.Everyone comes around and laughs at me lying on the floor, but I\u2019m not laughing. I can tell something is wrong, but I don\u2019t know what. I feel a bit irritated because they\u2019re all having fun at my expense and honestly I\u2019m not very good at being embarrassed. A co-worker makes a dumb joke and I say something like, \u201CI think there\u2019s something wrong with my arm\u201D and then she looks and her eyes widen quickly and she shrieks and runs off. My arm is at a funny angle coming right out of my shoulder and it\u2019s moving ... strangely ... I can\u2019t seem to control it properly. And it hurts. Although not as much as it maybe ought to...Ten minutes later I\u2019m in a friend\u2019s car driving to the hospital. I feel incredibly strange. I\u2019m scared out of my mind. I\u2019m in pain, but again, not as much as I ought to be, but every time we hit a pothole in the car it feels like something inside my arm is sawing through my shoulder muscle. My arm hangs off me strangely. It\u2019s not moving properly. I have to hold it in mid air with my other arm or it feels ... bad ... Really bad. In the back of my mind I\u2019m wondering whether it\u2019ll be fixable. I\u2019m trying to work out if I\u2019m being melodramatic. Does this kind of thing happen to people all the time? My friend is being calm in that way that only someone who has had two children can be. She knows it\u2019s a big deal, she\u2019s not pretending it isn\u2019t, but she knows that panicking won\u2019t help. She\u2019s awesome.We get to SF General. I\u2019m clearly not freaked out enough, because it takes me about ten seconds to notice that all the junior doctors and orderlies and people who are working there are absolutely stunning. It takes me about another five seconds to realise that I don\u2019t like SF General. There\u2019s a wide-eyed woman handcuffed to a railing who screams \u2018Rape!\u2019 whenever a doctor comes near her. There are two men who are mostly naked, covered in red scratches and dust, moaning like zombies and reaching out for one another with dirty, bloody hands. A woman runs in as the doctors start cutting off my t-shirt shouting, \u201CDo you have insurance?\u201D over and over. She\u2019s shouting at me like I don\u2019t have other things on my mind right at this moment. I don\u2019t know what to say. I don\u2019t know how this works. I have insurance in theory, but I haven\u2019t looked into it at all since joining the company. I have no idea what one\u2019s supposed to do. And also\u2014by the way\u2014my arm is hanging out of its socket...I\u2019m put in a strange position and my arm starts to feel incredibly bad and painful. They inject me with something, but I don\u2019t feel the pinprick. I start talking to my friend. \u201CThis isn\u2019t doing anything...\u201D I say. \u201CIt\u2019s rubbish.\u201D Then a few seconds later... \u201CShit, It had been doing something. Shit. Give me some more!\u201D I\u2019m in a room covered in tiles with equipment around me. I\u2019m losing track a bit of who is in the room with me and who isn\u2019t. They give me something stronger\u2014something wonderful\u2014and I start making jokes. Brilliant jokes. I\u2019m the wittiest man alive. Also I\u2019m English and that counts for something with these people. I\u2019m dimly aware that I shouldn\u2019t flirt with any of the doctors. I can sort of see them talking to my friend in the corner.Time passes and honestly I don\u2019t remember them setting my arm, but they clearly did. And next thing I know I\u2019m lying exhausted and only semi-aware of what\u2019s going on in a corridor on a gurney. One of the dirty blood-covered men is being wheeled past me on another gurney. He reaches out for me as he passes. My friend blocks him. I close my eyes and hear his groaning zombie-noise pass me by.I\u2019m sent home in pretty good order. Their suspicion is that the shoulder has just been dislocated. Now it\u2019s been put back in place everything will sort of return to normal. I mention that I don\u2019t seem to be able to move it that much and they say that\u2019s common and that it\u2019ll get better in a few days. I go home and collapse.And time passes. The next day my arm doesn\u2019t hurt that much at all. I can\u2019t move it very much. I\u2019m not that concerned. But the day after, it\u2019s still not moving. It\u2019s a long holiday weekend, but I stay at home trying to get better. The Monday comes and I\u2019m starting to freak out. I\u2019ve tried to work out what\u2019s going on. A few things seem to be working. I can clench my fist. My bicep works. But I can\u2019t straighten my arm, I can\u2019t lift it up. I can\u2019t straighten my fingers at all. And the outside of my arm from my shoulder to my finger tips feels cold and dead. My left arm can only really do one useful thing. I can hold out my arm like I\u2019m begging. That\u2019s the limit of what is practical. My arm has been replaced by a cup-holder.Over the next few weeks I learn what\u2019s going on. The brachial nerve in my shoulder has been \u2018damaged\u2019. No one knows how much. It could be bruised. It could be severed. If it\u2019s bruised it will recover, at the rate of about a millimeter a week. If it has been severed, then it won\u2019t recover at all. I\u2019ll be stuck with a barely functioning arm for the rest of my life.I visit a shoulder therapist who tries to calm me down about the whole thing. He\u2019s a tall, tanned middle-aged man who looks like he surfs. He\u2019s relatively positive, but says it\u2019ll be a long wait to find out if I\u2019ll heal. I want to know what happens if I don\u2019t heal, but he doesn\u2019t want to tell me. I have to force him to go into detail. He talks of opening up my arm and moving the muscles around so that they connect to the other side of my hand. He talks of fusing the bones in my wrist together so that my hand doesn\u2019t flop down like a gay stereotype every time I move. He talks of braces and assistive devices. I sort of take some of it in. Knowing there are options\u2014even weird cyborg, body-mutilating options\u2014is weirdly comforting.My friends try and help\u2014some more than others. None of them really know what to do. None of them know how to react. They\u2019re looking at me unclear as to how serious it is. At one level, I\u2019m just a guy with his arm in a sling. At another level, I\u2019m the guy whose arm doesn\u2019t work and may never work again. They very graciously offer to help.Very gradually a kind of black humour dredges itself across me, as I start to think about what my life could be like. You believe that you treat people with significant problems like this normally, but your illusions go away pretty quickly when you\u2019re in the situation yourself. As the muscle starts to waste away on your arm, you start wondering what you\u2019ll look like with one flaccid, scrawny arm, clawing upon itself. You wonder if you\u2019ll be able to drive a car or ride a bike. What if you fall over on it? Would you be able to feel if you\u2019d damaged it more? Will you be stuck looking after your arm like you would an insensate vegetative child?How are you going to type? How are you going to do the work you\u2019ve been doing for years? Within a few weeks I get my typing up to forty five words a minute one-handed. Everyone is very impressed, but what do they know? It\u2019s half the speed I could type before. Am I going to be half as productive? My mother calls me and starts talking about assistive devices. Should I get a chording keyboard? It all feels like preparing for a life without a functioning arm. That\u2019s not a view of the future that I\u2019m capable of dealing with. I\u2019m not able to think like that. It makes me angry that anyone would think that I should think like that. I will not think like that.I find myself doing things in my home that I\u2019d been meaning to do for years but never got around to, purely because doing them one-handed is borderline impossible. I refuse help from people. They mean well but they don\u2019t understand. If I start taking people\u2019s help now, then it\u2019s accepting that I\u2019m a broken person. It\u2019s accepting that I\u2019ll need some kind of assistance for the rest of my life. That I\u2019ll always be dependent on other people. Fuck that. Fuck it so hard. I move every piece of furniture in my house. I rip up the carpet. I fold it up and drag it out into the shed. I\u2019m swearing every step of the way. It\u2019s a war between me and the carpet. It\u2019s the most difficult thing I\u2019ve ever done. It takes me four hours. At the end I\u2019m victorious. I feel strong and angry and determined and relentless.I don\u2019t take a single day off work from the moment the fall happened. In retrospect this was one of the most stupid things I\u2019ve ever done.I wonder about sex. I wonder whether anyone would want to have sex with someone with a gimpy arm. I wonder whether or not I\u2019d want to have sex with someone who wanted to have sex with someone with a gimpy arm. I try and imagine the mechanics. I visualize the look on their face as we go through the motions. I have fairly dark patches.I go and see a neurologist who inserts long needles into my arms and asks me if I feel anything. He runs current through my body. He\u2019s not impressed by the results. He tells me there\u2019s a fifty percent chance of me getting something back, but that\u2019s all. I leave composed and balanced. Sitting on a chair outside the surgery, I feel myself falling. I get a phone call from my boss. It\u2019s the worst possible time and the poor man gets an earful of quite un-British set of emotion. I walk around for a bit. When I get back to the office, no one knows about my blip.Months pass, and I start physiotherapy with two guys. One of whom is incredibly athletic and looks at me as if the arm is the least of my problems. Apparently working eighteen hour days and not getting any exercise is a bad thing. The other guy spends every minute manipulating my arm and asking about how to set up a tech start-up in San Francisco. I humour him. I wish he\u2019d shut up.I get an exciting new device that runs an electrical stimulus through my arm. When it\u2019s on, every muscle clenches. All the muscles I can\u2019t control. My fingers splay out like a maniac. It hurts a lot but it\u2019s a pleasing kind of pain. It feels like I have some control over opening my fingers for the first time in months. I\u2019m supposed to hold my arm out, trigger the device, watch my hand lift up and then turn off the device and try and keep my hand in the air. Every time I turn it off it flops down like a dead fish. Every time I\u2019m a little more disappointed.Friends are fascinated by this device. It gives them insight into how their bodies work; that you can route around the nervous system so easily. They sometimes want to try it on themselves. I\u2019m eager to show them how it works. Partly that\u2019s because I want them to understand the process, but there\u2019s a part of me that also wants to hurt them for having working limbs. It\u2019s not a feeling I\u2019m proud of.No one knows what to say, and I don\u2019t know how to help them. After a while I start to wish they\u2019d just pretend not to notice it. The following is the standard conversation that people had with me, borderline unedited:\u201CSo what happened to your arm?\u201D\u201CIt doesn\u2019t work\u201D\u201CHow did you do that?\u201D\u201CI fell over. I don\u2019t really want to talk about it.\u201D\u201COh well, I\u2019m sure it\u2019ll be better soon.\u201D\u201CWell, actually, no. It\u2019s paralysed and may never get better.\u201D\u201CSeriously?\u201D\u201CYes.\u201D\u201CAre you right-handed?\u201D\u201CYeah.\u201D\u201CHa! Well at least you can still masturbate, amiright?\u201D\u201C...\u201DI have this conversation fifty times or more. I start to want to hide from people rather than have the conversation. I can sense when it\u2019s about to start and try and steer the discussion in a different direction. It never works. I start to avoid talking to new people because I know they\u2019ll do it. Every new time I have to explain myself forces me to go through the whole process in my head again. Yes, that\u2019s right. My arm doesn\u2019t work. It may never work again. Yeah, it\u2019s a big deal. Thanks so much for asking. Other concerned people ask me questions and sound so upset by the answers that I find myself having to make them feel better.After a while I find a new script to stop things spiraling out of my control - a better script, a script that scares people. A script that stops their homilies dead in their tracks.\u201CSo what happened to your arm?\u201D\u201CHorrific fisting accident.\u201D\u201CI\u2019m sorry. What?\u201D\u201CHorrific fisting accident. I hurt myself fisting someone.\u201D\u201CHoly shit.\u201D\u201CThis is nothing. You should see the other guy...\u201DThat shuts them up.Four months after I fell over, I started noticing that I could lift my left hand up a couple of millimeters. I didn\u2019t want to get my hopes up - maybe I\u2019d always been able to do that, but the swelling from the injury had just masked it. But then a week later, it was getting stronger. I could move it half an inch. And then stronger and stronger. A couple of months later, with regular physiotherapy, I had a fully functioning left arm again. It was weak, certainly and it took a long time before it felt the same as my right arm. And there are still moments where the joint hurts a bit. But every day throughout all of the healing, while working hard to make things better, I\u2019d say to myself, \u201CThis is fine. If it never gets any better than this, I\u2019ll still be grateful.\u201DToday it\u2019s back to normal, and it\u2019s so easy to forget how hard it was and how I felt during the process. During the time it happened, I never once wanted to go onto my blog and write up what was going on. It was too big, too hard, too upsetting. All it would be was spreading my black mood around the internet.The first thing I learned when this happened to me was the difference between something that will heal and something that may not. People break their arms every day. They know it\u2019ll get better. They\u2019re in pain and sad and limited, but they\u2019ll almost certainly get better. So they can take help, lean on their friends and family. Accept a short burst of incapacity, then get back to normal.But if it might not heal\u2014if it\u2019s something that you could have to live with for forty or fifty or sixty years\u2014then it\u2019s very different. We don\u2019t tend to think about disease or illness in that way. We have very few mental tools to help us understand that kind of shift of life-expectations - that deformation of your future. You may not get better. You may not heal. You may be like this forever. Are you going to be a burden to everyone around you? Are people going to treat you like a child or look at you with \u2018profound sympathy\u2019 until the day you drop dead? Are you always going to be unable to carry your own weight? Are you always going to rely on others?People always say, \u201CWhat doesn\u2019t kill you makes you stronger...\u201D, but I\u2019ve come to ruefully add in my head every time I hear that, unless it maims you. Unless it maims you.So I\u2019ve got a newfound respect for all the people who have had these experiences. My experience was thankfully brief but I feel I have a little more understanding of what it means to fall over and feel that you have to get up, no matter what you have to leave behind in the process. No one wants to have their independence and sense of self diminished by some trivial and stupid accident. I now understand a little more the absolute determination of people who live with a condition that won\u2019t go away - the guts it takes to get through fear and self-doubt and the need to demonstrate that you\u2019re not a wasted person, a mutilation, a wreck. Looking that battle in the face, however briefly, made me admire people who fight through it every day all the more. They don\u2019t need our sympathy. They need our admiration and our respect. My arm healed. I was lucky. Many other people are not.I have no moral from this story. I wish I could say it changed my life dramatically, or that I brought something back from the abyss that I can share and we can all learn from. But really, all I have is that you should appreciate what you\u2019ve got. Very few people whose bodies get broken were injured rescuing children from ships or fighting against dangerous psychopaths. Most accidents are in the home or in a car, doing something normal and stupid. Falling from a ladder. Tripping on a curb. Trivial, embarrassing things. And they can happen at any time. There\u2019s little you can do to avoid all risk in life, and it would be a pretty dull life if you did. So just be careful. Be decent. Be nice to each other. Because it could happen to you."
      end

      it 'has the right author' do
        author = {:name => "Tom Coates", :link => "https://medium.com/@tomcoates"}
        link.author.should eql author
      end

      it 'has the right publish_date' do
        link.publish_date.should eql "August 16, 2012"
      end

      it 'has them all as a hash' do
        hash = {:author => {:name => "Tom Coates", :link => "https://medium.com/@tomcoates"}, :publish_date => "August 16, 2012", :title => "On Falling Over", :body => "In 2008 I moved to the US and within six months I\u2019d paralysed my left arm doing something stupid in the office. For a while I didn\u2019t know if it was ever going to recover. It was one of the most disturbing experiences of my life and it happened in the most trivial of ways.I\u2019d moved over from the UK with some trepidation. I\u2019d always wanted to spend some time living in America\u2014I\u2019d spent so much of my time online with SF natives in the nineties\u2014but the mechanism I\u2019d found to make the move was less than perfect. I\u2019d found myself in a job that was relatively well-protected but working in an organisation that I couldn\u2019t stand. I\u2019d had some other\u2014in retrospect rather better\u2014opportunities, but I\u2019d turned them down for a solid prospect. And then I\u2019d delayed the move several times because of the scale of the commitment and my feelings towards it.I\u2019d have to work at this company for at least another two years in the US (potentially a lot longer), and I had absolutely no idea what the job would be like once I got here. It felt like the most grown-up thing I\u2019d ever done. I was committing to do something I thought I\u2019d hate, purely to be in the right situation a few years down the line.Once I arrived though, things picked up pretty much immediately. The area I was working in was good and I got quite a lot of agency to improve and refine it. Within a few months, I was having a great time - working with clever, fun people in a familial, creative environment and on stuff that seemed actually important and interesting. I\u2019d be working myself to death, of course - so much that I\u2019d still not managed to get out of the corporate housing that I\u2019d been placed in when I arrived in the country. Sixteen hour days were not uncommon. But honestly, it didn\u2019t seem to matter.One of the benefits of our particular relaxed environment and distance from the mothership was that we could turn our space into anything we liked. We had sofas and weird screens and neon signs and loads of space. We let dogs and children come in and play around us. We had people giving talks over the other side of the office. There were finger dart battles.And we had a Balance Board.The board was the property of our lead engineer and he used it to practice for snow-boarding. Very gradually all the rest of us started to play with it too. We\u2019d stand on it and trying to stay upright and laugh at each other\u2019s clumsiness. I started off worse than anyone else\u2014I\u2019d never had much sense of my body\u2014but gradually started to improve. I mucked around on it every day. In the end something was bound to go wrong.Picture the scene - I\u2019m standing next to the lead engineer, looking at his screen. We\u2019re talking about an element of the product we\u2019re working on. We\u2019re probably making some ridiculous joke or something. And I\u2019m balancing on the balance board. And I fall off.Everyone comes around and laughs at me lying on the floor, but I\u2019m not laughing. I can tell something is wrong, but I don\u2019t know what. I feel a bit irritated because they\u2019re all having fun at my expense and honestly I\u2019m not very good at being embarrassed. A co-worker makes a dumb joke and I say something like, \u201CI think there\u2019s something wrong with my arm\u201D and then she looks and her eyes widen quickly and she shrieks and runs off. My arm is at a funny angle coming right out of my shoulder and it\u2019s moving ... strangely ... I can\u2019t seem to control it properly. And it hurts. Although not as much as it maybe ought to...Ten minutes later I\u2019m in a friend\u2019s car driving to the hospital. I feel incredibly strange. I\u2019m scared out of my mind. I\u2019m in pain, but again, not as much as I ought to be, but every time we hit a pothole in the car it feels like something inside my arm is sawing through my shoulder muscle. My arm hangs off me strangely. It\u2019s not moving properly. I have to hold it in mid air with my other arm or it feels ... bad ... Really bad. In the back of my mind I\u2019m wondering whether it\u2019ll be fixable. I\u2019m trying to work out if I\u2019m being melodramatic. Does this kind of thing happen to people all the time? My friend is being calm in that way that only someone who has had two children can be. She knows it\u2019s a big deal, she\u2019s not pretending it isn\u2019t, but she knows that panicking won\u2019t help. She\u2019s awesome.We get to SF General. I\u2019m clearly not freaked out enough, because it takes me about ten seconds to notice that all the junior doctors and orderlies and people who are working there are absolutely stunning. It takes me about another five seconds to realise that I don\u2019t like SF General. There\u2019s a wide-eyed woman handcuffed to a railing who screams \u2018Rape!\u2019 whenever a doctor comes near her. There are two men who are mostly naked, covered in red scratches and dust, moaning like zombies and reaching out for one another with dirty, bloody hands. A woman runs in as the doctors start cutting off my t-shirt shouting, \u201CDo you have insurance?\u201D over and over. She\u2019s shouting at me like I don\u2019t have other things on my mind right at this moment. I don\u2019t know what to say. I don\u2019t know how this works. I have insurance in theory, but I haven\u2019t looked into it at all since joining the company. I have no idea what one\u2019s supposed to do. And also\u2014by the way\u2014my arm is hanging out of its socket...I\u2019m put in a strange position and my arm starts to feel incredibly bad and painful. They inject me with something, but I don\u2019t feel the pinprick. I start talking to my friend. \u201CThis isn\u2019t doing anything...\u201D I say. \u201CIt\u2019s rubbish.\u201D Then a few seconds later... \u201CShit, It had been doing something. Shit. Give me some more!\u201D I\u2019m in a room covered in tiles with equipment around me. I\u2019m losing track a bit of who is in the room with me and who isn\u2019t. They give me something stronger\u2014something wonderful\u2014and I start making jokes. Brilliant jokes. I\u2019m the wittiest man alive. Also I\u2019m English and that counts for something with these people. I\u2019m dimly aware that I shouldn\u2019t flirt with any of the doctors. I can sort of see them talking to my friend in the corner.Time passes and honestly I don\u2019t remember them setting my arm, but they clearly did. And next thing I know I\u2019m lying exhausted and only semi-aware of what\u2019s going on in a corridor on a gurney. One of the dirty blood-covered men is being wheeled past me on another gurney. He reaches out for me as he passes. My friend blocks him. I close my eyes and hear his groaning zombie-noise pass me by.I\u2019m sent home in pretty good order. Their suspicion is that the shoulder has just been dislocated. Now it\u2019s been put back in place everything will sort of return to normal. I mention that I don\u2019t seem to be able to move it that much and they say that\u2019s common and that it\u2019ll get better in a few days. I go home and collapse.And time passes. The next day my arm doesn\u2019t hurt that much at all. I can\u2019t move it very much. I\u2019m not that concerned. But the day after, it\u2019s still not moving. It\u2019s a long holiday weekend, but I stay at home trying to get better. The Monday comes and I\u2019m starting to freak out. I\u2019ve tried to work out what\u2019s going on. A few things seem to be working. I can clench my fist. My bicep works. But I can\u2019t straighten my arm, I can\u2019t lift it up. I can\u2019t straighten my fingers at all. And the outside of my arm from my shoulder to my finger tips feels cold and dead. My left arm can only really do one useful thing. I can hold out my arm like I\u2019m begging. That\u2019s the limit of what is practical. My arm has been replaced by a cup-holder.Over the next few weeks I learn what\u2019s going on. The brachial nerve in my shoulder has been \u2018damaged\u2019. No one knows how much. It could be bruised. It could be severed. If it\u2019s bruised it will recover, at the rate of about a millimeter a week. If it has been severed, then it won\u2019t recover at all. I\u2019ll be stuck with a barely functioning arm for the rest of my life.I visit a shoulder therapist who tries to calm me down about the whole thing. He\u2019s a tall, tanned middle-aged man who looks like he surfs. He\u2019s relatively positive, but says it\u2019ll be a long wait to find out if I\u2019ll heal. I want to know what happens if I don\u2019t heal, but he doesn\u2019t want to tell me. I have to force him to go into detail. He talks of opening up my arm and moving the muscles around so that they connect to the other side of my hand. He talks of fusing the bones in my wrist together so that my hand doesn\u2019t flop down like a gay stereotype every time I move. He talks of braces and assistive devices. I sort of take some of it in. Knowing there are options\u2014even weird cyborg, body-mutilating options\u2014is weirdly comforting.My friends try and help\u2014some more than others. None of them really know what to do. None of them know how to react. They\u2019re looking at me unclear as to how serious it is. At one level, I\u2019m just a guy with his arm in a sling. At another level, I\u2019m the guy whose arm doesn\u2019t work and may never work again. They very graciously offer to help.Very gradually a kind of black humour dredges itself across me, as I start to think about what my life could be like. You believe that you treat people with significant problems like this normally, but your illusions go away pretty quickly when you\u2019re in the situation yourself. As the muscle starts to waste away on your arm, you start wondering what you\u2019ll look like with one flaccid, scrawny arm, clawing upon itself. You wonder if you\u2019ll be able to drive a car or ride a bike. What if you fall over on it? Would you be able to feel if you\u2019d damaged it more? Will you be stuck looking after your arm like you would an insensate vegetative child?How are you going to type? How are you going to do the work you\u2019ve been doing for years? Within a few weeks I get my typing up to forty five words a minute one-handed. Everyone is very impressed, but what do they know? It\u2019s half the speed I could type before. Am I going to be half as productive? My mother calls me and starts talking about assistive devices. Should I get a chording keyboard? It all feels like preparing for a life without a functioning arm. That\u2019s not a view of the future that I\u2019m capable of dealing with. I\u2019m not able to think like that. It makes me angry that anyone would think that I should think like that. I will not think like that.I find myself doing things in my home that I\u2019d been meaning to do for years but never got around to, purely because doing them one-handed is borderline impossible. I refuse help from people. They mean well but they don\u2019t understand. If I start taking people\u2019s help now, then it\u2019s accepting that I\u2019m a broken person. It\u2019s accepting that I\u2019ll need some kind of assistance for the rest of my life. That I\u2019ll always be dependent on other people. Fuck that. Fuck it so hard. I move every piece of furniture in my house. I rip up the carpet. I fold it up and drag it out into the shed. I\u2019m swearing every step of the way. It\u2019s a war between me and the carpet. It\u2019s the most difficult thing I\u2019ve ever done. It takes me four hours. At the end I\u2019m victorious. I feel strong and angry and determined and relentless.I don\u2019t take a single day off work from the moment the fall happened. In retrospect this was one of the most stupid things I\u2019ve ever done.I wonder about sex. I wonder whether anyone would want to have sex with someone with a gimpy arm. I wonder whether or not I\u2019d want to have sex with someone who wanted to have sex with someone with a gimpy arm. I try and imagine the mechanics. I visualize the look on their face as we go through the motions. I have fairly dark patches.I go and see a neurologist who inserts long needles into my arms and asks me if I feel anything. He runs current through my body. He\u2019s not impressed by the results. He tells me there\u2019s a fifty percent chance of me getting something back, but that\u2019s all. I leave composed and balanced. Sitting on a chair outside the surgery, I feel myself falling. I get a phone call from my boss. It\u2019s the worst possible time and the poor man gets an earful of quite un-British set of emotion. I walk around for a bit. When I get back to the office, no one knows about my blip.Months pass, and I start physiotherapy with two guys. One of whom is incredibly athletic and looks at me as if the arm is the least of my problems. Apparently working eighteen hour days and not getting any exercise is a bad thing. The other guy spends every minute manipulating my arm and asking about how to set up a tech start-up in San Francisco. I humour him. I wish he\u2019d shut up.I get an exciting new device that runs an electrical stimulus through my arm. When it\u2019s on, every muscle clenches. All the muscles I can\u2019t control. My fingers splay out like a maniac. It hurts a lot but it\u2019s a pleasing kind of pain. It feels like I have some control over opening my fingers for the first time in months. I\u2019m supposed to hold my arm out, trigger the device, watch my hand lift up and then turn off the device and try and keep my hand in the air. Every time I turn it off it flops down like a dead fish. Every time I\u2019m a little more disappointed.Friends are fascinated by this device. It gives them insight into how their bodies work; that you can route around the nervous system so easily. They sometimes want to try it on themselves. I\u2019m eager to show them how it works. Partly that\u2019s because I want them to understand the process, but there\u2019s a part of me that also wants to hurt them for having working limbs. It\u2019s not a feeling I\u2019m proud of.No one knows what to say, and I don\u2019t know how to help them. After a while I start to wish they\u2019d just pretend not to notice it. The following is the standard conversation that people had with me, borderline unedited:\u201CSo what happened to your arm?\u201D\u201CIt doesn\u2019t work\u201D\u201CHow did you do that?\u201D\u201CI fell over. I don\u2019t really want to talk about it.\u201D\u201COh well, I\u2019m sure it\u2019ll be better soon.\u201D\u201CWell, actually, no. It\u2019s paralysed and may never get better.\u201D\u201CSeriously?\u201D\u201CYes.\u201D\u201CAre you right-handed?\u201D\u201CYeah.\u201D\u201CHa! Well at least you can still masturbate, amiright?\u201D\u201C...\u201DI have this conversation fifty times or more. I start to want to hide from people rather than have the conversation. I can sense when it\u2019s about to start and try and steer the discussion in a different direction. It never works. I start to avoid talking to new people because I know they\u2019ll do it. Every new time I have to explain myself forces me to go through the whole process in my head again. Yes, that\u2019s right. My arm doesn\u2019t work. It may never work again. Yeah, it\u2019s a big deal. Thanks so much for asking. Other concerned people ask me questions and sound so upset by the answers that I find myself having to make them feel better.After a while I find a new script to stop things spiraling out of my control - a better script, a script that scares people. A script that stops their homilies dead in their tracks.\u201CSo what happened to your arm?\u201D\u201CHorrific fisting accident.\u201D\u201CI\u2019m sorry. What?\u201D\u201CHorrific fisting accident. I hurt myself fisting someone.\u201D\u201CHoly shit.\u201D\u201CThis is nothing. You should see the other guy...\u201DThat shuts them up.Four months after I fell over, I started noticing that I could lift my left hand up a couple of millimeters. I didn\u2019t want to get my hopes up - maybe I\u2019d always been able to do that, but the swelling from the injury had just masked it. But then a week later, it was getting stronger. I could move it half an inch. And then stronger and stronger. A couple of months later, with regular physiotherapy, I had a fully functioning left arm again. It was weak, certainly and it took a long time before it felt the same as my right arm. And there are still moments where the joint hurts a bit. But every day throughout all of the healing, while working hard to make things better, I\u2019d say to myself, \u201CThis is fine. If it never gets any better than this, I\u2019ll still be grateful.\u201DToday it\u2019s back to normal, and it\u2019s so easy to forget how hard it was and how I felt during the process. During the time it happened, I never once wanted to go onto my blog and write up what was going on. It was too big, too hard, too upsetting. All it would be was spreading my black mood around the internet.The first thing I learned when this happened to me was the difference between something that will heal and something that may not. People break their arms every day. They know it\u2019ll get better. They\u2019re in pain and sad and limited, but they\u2019ll almost certainly get better. So they can take help, lean on their friends and family. Accept a short burst of incapacity, then get back to normal.But if it might not heal\u2014if it\u2019s something that you could have to live with for forty or fifty or sixty years\u2014then it\u2019s very different. We don\u2019t tend to think about disease or illness in that way. We have very few mental tools to help us understand that kind of shift of life-expectations - that deformation of your future. You may not get better. You may not heal. You may be like this forever. Are you going to be a burden to everyone around you? Are people going to treat you like a child or look at you with \u2018profound sympathy\u2019 until the day you drop dead? Are you always going to be unable to carry your own weight? Are you always going to rely on others?People always say, \u201CWhat doesn\u2019t kill you makes you stronger...\u201D, but I\u2019ve come to ruefully add in my head every time I hear that, unless it maims you. Unless it maims you.So I\u2019ve got a newfound respect for all the people who have had these experiences. My experience was thankfully brief but I feel I have a little more understanding of what it means to fall over and feel that you have to get up, no matter what you have to leave behind in the process. No one wants to have their independence and sense of self diminished by some trivial and stupid accident. I now understand a little more the absolute determination of people who live with a condition that won\u2019t go away - the guts it takes to get through fear and self-doubt and the need to demonstrate that you\u2019re not a wasted person, a mutilation, a wreck. Looking that battle in the face, however briefly, made me admire people who fight through it every day all the more. They don\u2019t need our sympathy. They need our admiration and our respect. My arm healed. I was lucky. Many other people are not.I have no moral from this story. I wish I could say it changed my life dramatically, or that I brought something back from the abyss that I can share and we can all learn from. But really, all I have is that you should appreciate what you\u2019ve got. Very few people whose bodies get broken were injured rescuing children from ships or fighting against dangerous psychopaths. Most accidents are in the home or in a car, doing something normal and stupid. Falling from a ladder. Tripping on a curb. Trivial, embarrassing things. And they can happen at any time. There\u2019s little you can do to avoid all risk in life, and it would be a pretty dull life if you did. So just be careful. Be decent. Be nice to each other. Because it could happen to you."}
        link.as_hash.should eql hash
      end
    end

    describe 'Good link 2' do
      let(:link) do
        Reader::Medium 'https://medium.com/about/9e53ca408c48'
      end

      it 'has the right class name' do
        link.class.should eql Reader::Medium
      end

      it 'responds to title' do
        link.respond_to?(:title).should eql true
      end

      it 'responds to body' do
        link.respond_to?(:body).should eql true
      end

      it 'responds to as_hash' do
        link.respond_to?(:as_hash).should eql true
      end

      it 'responds to as_json' do
        link.respond_to?(:as_json).should eql true
      end

      it 'has the right title' do
        link.title.should eql "Welcome to Medium"
      end

      it 'has the right body' do
        link.body.should eql "Medium is based on the belief that the sharing of ideas and experiences is what moves humanity forward. The Internet is the greatest idea-sharing tool ever imagined, but we\u2019ve only scratched the surface of what it\u2019s capable of.We\u2019ve Come a Long WayIn 1999, two friends and I launched Blogger (now part of Google), a simple tool for publishing to the web. Blogs (or \u201Cweblogs,\u201D as everyone called them at the time) were largely unknown as a concept outside a small community of web geeks. And an idea that is now taken for granted\u2014that anyone, anywhere could publish their thoughts to the global Internet audience\u2014seemed like a radical notion.In the years since, the Internet has become central to how we live and work (even outside the Internet industry). We carry it around in our pockets on computers with more horsepower and pixels than we had on our desks at that time. And we have innumerable options for sharing our feelings, location, and cat photos\u2014with or without a retro filter.While easy to trivialize what it\u2019s often used for, the fact that most of humanity has the power of a printing press at their fingertips\u2014easy to use and available for free\u2014is a pretty amazing advancement for civilization. It\u2019s an advancement that has irreversibly impacted society, from pop culture to politics and everything in between.Why stop there? The Internet can do more than make publishing free and easy. And, in some respects, there\u2019s been less advancement than one might expect in the years since the web has become mainstream. Lots of services have successfully lowered the bar for sharing information, but there\u2019s been less progress toward raising the quality of what\u2019s produced. It\u2019s great that you can be a one-person media outlet, but it\u2019d be even better if there were more ways you could work with others. And in a world of increasingly overwhelming quantities of content, how do we direct our attention to what\u2019s most valuable, not just what\u2019s interesting and of-the-moment?It\u2019s not too late to rethink how online publishing works and build a system optimized for quality, rather than popularity. Where anyone can have a voice but where one has to earn the right to your attention. A system where people work together to make a difference, rather than merely compete for validation and recognition. A world where thought and craftsmanship is rewarded more than knee-jerk reactions. Truth be told, we\u2019re just starting the journey of figuring out what all that means. We have an amazing team with a ton of relevant experience, but we\u2019ve built just a sliver of what we have in mind. And we know it will be a learning process as we go.What Happens NextIt\u2019s early. Our killer team is quickly adding to what you see here\u2014tweaking, and improving things as we go. As of today, everyone can read and give feedback on Medium posts. Creating content is limited to a small list, which we\u2019re expanding on an almost-daily basis. To explore more, please register and sign in with your Twitter account. You can see an ever-changing selection of posts from our early beta users in this collection, and you can visit collections and profiles from those posts to find more. You can also read about how Medium works, see the jobs we\u2019re hiring for, and follow @medium on Twitter for more updates.Thanks for your interest."
      end

      it 'has the right author' do
        author = {:name=>"Ev Williams", :link=>"https://medium.com/@ev"}
        link.author.should eql author
      end

      it 'has the right publish_date' do
        link.publish_date.should eql "October 29, 2012"
      end

      it 'has them all as a hash' do
        hash = {:author => {:name=>"Ev Williams", :link=>"https://medium.com/@ev"}, :publish_date => "October 29, 2012",:title => "Welcome to Medium", :body => "Medium is based on the belief that the sharing of ideas and experiences is what moves humanity forward. The Internet is the greatest idea-sharing tool ever imagined, but we\u2019ve only scratched the surface of what it\u2019s capable of.We\u2019ve Come a Long WayIn 1999, two friends and I launched Blogger (now part of Google), a simple tool for publishing to the web. Blogs (or \u201Cweblogs,\u201D as everyone called them at the time) were largely unknown as a concept outside a small community of web geeks. And an idea that is now taken for granted\u2014that anyone, anywhere could publish their thoughts to the global Internet audience\u2014seemed like a radical notion.In the years since, the Internet has become central to how we live and work (even outside the Internet industry). We carry it around in our pockets on computers with more horsepower and pixels than we had on our desks at that time. And we have innumerable options for sharing our feelings, location, and cat photos\u2014with or without a retro filter.While easy to trivialize what it\u2019s often used for, the fact that most of humanity has the power of a printing press at their fingertips\u2014easy to use and available for free\u2014is a pretty amazing advancement for civilization. It\u2019s an advancement that has irreversibly impacted society, from pop culture to politics and everything in between.Why stop there? The Internet can do more than make publishing free and easy. And, in some respects, there\u2019s been less advancement than one might expect in the years since the web has become mainstream. Lots of services have successfully lowered the bar for sharing information, but there\u2019s been less progress toward raising the quality of what\u2019s produced. It\u2019s great that you can be a one-person media outlet, but it\u2019d be even better if there were more ways you could work with others. And in a world of increasingly overwhelming quantities of content, how do we direct our attention to what\u2019s most valuable, not just what\u2019s interesting and of-the-moment?It\u2019s not too late to rethink how online publishing works and build a system optimized for quality, rather than popularity. Where anyone can have a voice but where one has to earn the right to your attention. A system where people work together to make a difference, rather than merely compete for validation and recognition. A world where thought and craftsmanship is rewarded more than knee-jerk reactions. Truth be told, we\u2019re just starting the journey of figuring out what all that means. We have an amazing team with a ton of relevant experience, but we\u2019ve built just a sliver of what we have in mind. And we know it will be a learning process as we go.What Happens NextIt\u2019s early. Our killer team is quickly adding to what you see here\u2014tweaking, and improving things as we go. As of today, everyone can read and give feedback on Medium posts. Creating content is limited to a small list, which we\u2019re expanding on an almost-daily basis. To explore more, please register and sign in with your Twitter account. You can see an ever-changing selection of posts from our early beta users in this collection, and you can visit collections and profiles from those posts to find more. You can also read about how Medium works, see the jobs we\u2019re hiring for, and follow @medium on Twitter for more updates.Thanks for your interest."}
        link.as_hash.should eql hash
      end
    end

    describe 'Bad link' do
      let(:link) do
        Reader::Medium 'https://medium.com/this-happened-to-me/BADd8e0fb6dbfb2'
      end

      it 'raises an error if link is invalid' do
        expect { link }.to raise_error(StandardError, 'Error while fetching the link. Status: not 200')
      end
    end

    describe 'Not related link' do
      let(:link) do
        Reader::Medium 'http://techcrunch.com/2012/12/23/internet-silence-speaks-louder-than-words/'
      end

      it 'raises an error if processed by not related class' do
        expect { link }.to raise_error(StandardError, 'Couldn\'t fetch your link through this class!')
      end
    end

  end
end